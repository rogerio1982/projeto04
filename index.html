<!DOCTYPE html>

<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Teste API - PrevisÃ£o de PreÃ§o</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Bootstrap -->

  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
    rel="stylesheet"
  >
</head>
<body class="bg-light">

<div class="container mt-5">
  <div class="card shadow">
    <div class="card-body">

```
  <h3 class="mb-4">ðŸ“± Teste da API de PrevisÃ£o</h3>

  <div class="row g-3">
    <div class="col-md-4">
      <label class="form-label">Bateria (mAh)</label>
      <input id="battery" type="number" class="form-control" value="4085">
    </div>

    <div class="col-md-4">
      <label class="form-label">Tela (pol)</label>
      <input id="screen" type="number" step="0.01" class="form-control" value="6.67">
    </div>

    <div class="col-md-4">
      <label class="form-label">RAM (MB)</label>
      <input id="ram" type="number" class="form-control" value="12000">
    </div>

    <div class="col-md-4">
      <label class="form-label">Armazenamento (GB)</label>
      <input id="storage" type="number" class="form-control" value="256">
    </div>

    <div class="col-md-4">
      <label class="form-label">CÃ¢mera Traseira (MP)</label>
      <input id="rear" type="number" class="form-control" value="48">
    </div>

    <div class="col-md-4">
      <label class="form-label">CÃ¢mera Frontal (MP)</label>
      <input id="front" type="number" class="form-control" value="16">
    </div>
  </div>

  <button class="btn btn-primary mt-4 w-100" onclick="prever()">
    ðŸ”® Prever PreÃ§o
  </button>

  <div id="resultado" class="alert alert-success mt-4 d-none"></div>
  <div id="erro" class="alert alert-danger mt-4 d-none"></div>

</div>
```

  </div>
</div>

<script>
async function prever() {
  const resultado = document.getElementById("resultado");
  const erro = document.getElementById("erro");

  resultado.classList.add("d-none");
  erro.classList.add("d-none");

  const payload = {
    "Unnamed: 0": 0,
    "Battery capacity (mAh)": Number(document.getElementById("battery").value),
    "Screen size (inches)": Number(document.getElementById("screen").value),
    "Touchscreen": 1,
    "Resolution x": 1440,
    "Resolution y": 3120,
    "Processor": 8,
    "RAM (MB)": Number(document.getElementById("ram").value),
    "Internal storage (GB)": Number(document.getElementById("storage").value),
    "Rear camera": Number(document.getElementById("rear").value),
    "Front camera": Number(document.getElementById("front").value),
    "Wi-Fi": 1,
    "Bluetooth": 1,
    "GPS": 1,
    "Number of SIMs": 2,
    "3G": 1,
    "4G/ LTE": 1
  };

  try {
    const response = await fetch("http://100.52.255.188:5000/predict", {
      method: "POST",
      headers: {
        "Content-Type": "application/json"
      },
      body: JSON.stringify(payload)
    });

    if (!response.ok) {
      throw new Error("Erro na API");
    }

    const data = await response.json();

    resultado.innerHTML =
      `<strong>PreÃ§o previsto:</strong> R$ ${Number(data.preco_previsto).toLocaleString("pt-BR")}`;

    resultado.classList.remove("d-none");

  } catch (e) {
    console.error(e);
    erro.innerText = "Erro ao acessar a API (CORS / HTTPS / servidor offline).";
    erro.classList.remove("d-none");
  }
}
</script>

</body>
</html>
